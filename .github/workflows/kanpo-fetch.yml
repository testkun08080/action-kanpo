name: æ¯æ—¥å®˜å ±ç™ºè¡Œãƒã‚§ãƒƒã‚«ãƒ¼

on:
  schedule:
    - cron: "45 23 * * *" # æ¯æ—¥8:45 JST
  workflow_dispatch:

jobs:
  # test:
  #   name: ç™ºè¡Œãƒã‚§ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
  #   runs-on: ubuntu-latest
  #   outputs:
  #     test-result: ${{ steps.test.outcome }}
  #   steps:
  #     - uses: actions/checkout@v4

  #     - name: Pythonã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
  #       uses: actions/setup-python@v4
  #       with:
  #         python-version: "3.11"

  #     - name: ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  #       run: pip install requests beautifulsoup4 python-dateutil beautifulsoup4

  #     - name: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
  #       id: test
  #       run: python scripts/fetch_kanpo.py --test

  fetch-kanpo:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: å®˜å ±ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ï¼ˆDocker Actionï¼‰
        uses: testkun08080/action-kanpo@main
        with:
          dlpdf: "true"
          date: "2025-07-03"

  # fetch:
  #   name: å®˜å ±ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å®Ÿè¡Œ
  #   runs-on: ubuntu-latest
  #   needs: test
  #   if: success() # testã‚¸ãƒ§ãƒ–ãŒæˆåŠŸã—ãŸã‚‰ã®ã¿å®Ÿè¡Œ
  #   steps:
  #     - uses: actions/checkout@v4

  #     - name: Pythonã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
  #       uses: actions/setup-python@v4
  #       with:
  #         python-version: "3.11"

  #     - name: ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  #       run: pip install requests beautifulsoup4 python-dateutil

  #     - name: å®˜å ±æœ¬ç•ªã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
  #       run: python scripts/fetch_kanpo.py

  # commit:
  #   name: å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ
  #   runs-on: ubuntu-latest
  #   needs: fetch
  #   if: success()
  #   steps:
  #     - uses: actions/checkout@v4

  #     - name: Git è¨­å®šã¨ã‚³ãƒŸãƒƒãƒˆ
  #       run: |
  #         git config --local user.email "action@github.com"
  #         git config --local user.name "GitHub Action"
  #         git add .
  #         if git diff --staged --quiet; then
  #           echo "ğŸ“­ å¤‰æ›´ãªã—ï¼ˆæ–°ã—ã„å®˜å ±ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰"
  #         else
  #           git commit -m "å®˜å ±æ›´æ–°: $(date '+%Y-%m-%d')"
  #           git push

  #           name: Send a Tweet

  # tweet:
  #   name: ãƒ„ã‚¤ãƒ¼ãƒˆé€ä¿¡
  #   needs: test
  #   if: success()
  #   runs-on: ubuntu-latest
  #   steps:
  #     - uses: noweh/post-tweet-v2-action@v1.0
  #       with:
  #         message: "ä»Šæ—¥ã®å®˜å ±ï¼æœ€æ–°ã®å®˜å ±ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚ #å®˜å ±"
  #         consumer-key: ${{ secrets.TWITTER_CONSUMER_KEY }}
  #         consumer-secret: ${{ secrets.TWITTER_CONSUMER_SECRET }}
  #         access-token: ${{ secrets.TWITTER_ACCESS_TOKEN }}
  #         access-token-secret: ${{ secrets.TWITTER_ACCESS_TOKEN_SECRET }}
